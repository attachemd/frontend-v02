{"ast":null,"code":"function cov_t2dfwj2sg() {\n  var path = \"C:\\\\Users\\\\Me\\\\Documents\\\\Me\\\\fullstack\\\\frontend-v02\\\\src\\\\app\\\\training\\\\training.service.ts\";\n  var hash = \"f9eb3a3f88c7edf1a7108e91acbe5f97f576008c\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"C:\\\\Users\\\\Me\\\\Documents\\\\Me\\\\fullstack\\\\frontend-v02\\\\src\\\\app\\\\training\\\\training.service.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 6,\n          column: 22\n        },\n        end: {\n          line: 92,\n          column: 1\n        }\n      },\n      \"1\": {\n        start: {\n          line: 8,\n          column: 8\n        },\n        end: {\n          line: 8,\n          column: 25\n        }\n      },\n      \"2\": {\n        start: {\n          line: 9,\n          column: 8\n        },\n        end: {\n          line: 9,\n          column: 35\n        }\n      },\n      \"3\": {\n        start: {\n          line: 10,\n          column: 8\n        },\n        end: {\n          line: 10,\n          column: 46\n        }\n      },\n      \"4\": {\n        start: {\n          line: 11,\n          column: 8\n        },\n        end: {\n          line: 11,\n          column: 46\n        }\n      },\n      \"5\": {\n        start: {\n          line: 17,\n          column: 8\n        },\n        end: {\n          line: 17,\n          column: 54\n        }\n      },\n      \"6\": {\n        start: {\n          line: 18,\n          column: 8\n        },\n        end: {\n          line: 18,\n          column: 37\n        }\n      },\n      \"7\": {\n        start: {\n          line: 21,\n          column: 8\n        },\n        end: {\n          line: 21,\n          column: 45\n        }\n      },\n      \"8\": {\n        start: {\n          line: 22,\n          column: 8\n        },\n        end: {\n          line: 37,\n          column: 11\n        }\n      },\n      \"9\": {\n        start: {\n          line: 25,\n          column: 12\n        },\n        end: {\n          line: 25,\n          column: 55\n        }\n      },\n      \"10\": {\n        start: {\n          line: 26,\n          column: 12\n        },\n        end: {\n          line: 26,\n          column: 48\n        }\n      },\n      \"11\": {\n        start: {\n          line: 27,\n          column: 12\n        },\n        end: {\n          line: 30,\n          column: 15\n        }\n      },\n      \"12\": {\n        start: {\n          line: 32,\n          column: 12\n        },\n        end: {\n          line: 32,\n          column: 42\n        }\n      },\n      \"13\": {\n        start: {\n          line: 33,\n          column: 12\n        },\n        end: {\n          line: 33,\n          column: 55\n        }\n      },\n      \"14\": {\n        start: {\n          line: 34,\n          column: 12\n        },\n        end: {\n          line: 34,\n          column: 111\n        }\n      },\n      \"15\": {\n        start: {\n          line: 35,\n          column: 12\n        },\n        end: {\n          line: 36,\n          column: 28\n        }\n      },\n      \"16\": {\n        start: {\n          line: 40,\n          column: 8\n        },\n        end: {\n          line: 40,\n          column: 96\n        }\n      },\n      \"17\": {\n        start: {\n          line: 40,\n          column: 66\n        },\n        end: {\n          line: 40,\n          column: 94\n        }\n      },\n      \"18\": {\n        start: {\n          line: 41,\n          column: 8\n        },\n        end: {\n          line: 41,\n          column: 155\n        }\n      },\n      \"19\": {\n        start: {\n          line: 53,\n          column: 8\n        },\n        end: {\n          line: 53,\n          column: 155\n        }\n      },\n      \"20\": {\n        start: {\n          line: 54,\n          column: 8\n        },\n        end: {\n          line: 54,\n          column: 41\n        }\n      },\n      \"21\": {\n        start: {\n          line: 55,\n          column: 8\n        },\n        end: {\n          line: 55,\n          column: 46\n        }\n      },\n      \"22\": {\n        start: {\n          line: 58,\n          column: 8\n        },\n        end: {\n          line: 60,\n          column: 9\n        }\n      },\n      \"23\": {\n        start: {\n          line: 59,\n          column: 12\n        },\n        end: {\n          line: 59,\n          column: 277\n        }\n      },\n      \"24\": {\n        start: {\n          line: 61,\n          column: 8\n        },\n        end: {\n          line: 61,\n          column: 41\n        }\n      },\n      \"25\": {\n        start: {\n          line: 62,\n          column: 8\n        },\n        end: {\n          line: 62,\n          column: 46\n        }\n      },\n      \"26\": {\n        start: {\n          line: 65,\n          column: 8\n        },\n        end: {\n          line: 65,\n          column: 55\n        }\n      },\n      \"27\": {\n        start: {\n          line: 68,\n          column: 8\n        },\n        end: {\n          line: 77,\n          column: 11\n        }\n      },\n      \"28\": {\n        start: {\n          line: 71,\n          column: 12\n        },\n        end: {\n          line: 74,\n          column: 15\n        }\n      },\n      \"29\": {\n        start: {\n          line: 76,\n          column: 12\n        },\n        end: {\n          line: 76,\n          column: 42\n        }\n      },\n      \"30\": {\n        start: {\n          line: 81,\n          column: 27\n        },\n        end: {\n          line: 81,\n          column: 35\n        }\n      },\n      \"31\": {\n        start: {\n          line: 81,\n          column: 47\n        },\n        end: {\n          line: 81,\n          column: 79\n        }\n      },\n      \"32\": {\n        start: {\n          line: 82,\n          column: 8\n        },\n        end: {\n          line: 82,\n          column: 33\n        }\n      },\n      \"33\": {\n        start: {\n          line: 83,\n          column: 8\n        },\n        end: {\n          line: 83,\n          column: 29\n        }\n      },\n      \"34\": {\n        start: {\n          line: 84,\n          column: 8\n        },\n        end: {\n          line: 90,\n          column: 36\n        }\n      },\n      \"35\": {\n        start: {\n          line: 87,\n          column: 12\n        },\n        end: {\n          line: 87,\n          column: 34\n        }\n      },\n      \"36\": {\n        start: {\n          line: 89,\n          column: 12\n        },\n        end: {\n          line: 89,\n          column: 51\n        }\n      },\n      \"37\": {\n        start: {\n          line: 90,\n          column: 18\n        },\n        end: {\n          line: 90,\n          column: 34\n        }\n      },\n      \"38\": {\n        start: {\n          line: 93,\n          column: 0\n        },\n        end: {\n          line: 96,\n          column: 2\n        }\n      },\n      \"39\": {\n        start: {\n          line: 93,\n          column: 39\n        },\n        end: {\n          line: 96,\n          column: 1\n        }\n      },\n      \"40\": {\n        start: {\n          line: 97,\n          column: 0\n        },\n        end: {\n          line: 99,\n          column: 20\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 7,\n            column: 4\n          },\n          end: {\n            line: 7,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 7,\n            column: 33\n          },\n          end: {\n            line: 19,\n            column: 5\n          }\n        },\n        line: 7\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 20,\n            column: 4\n          },\n          end: {\n            line: 20,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 20,\n            column: 28\n          },\n          end: {\n            line: 38,\n            column: 5\n          }\n        },\n        line: 20\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 24,\n            column: 23\n          },\n          end: {\n            line: 24,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 24,\n            column: 38\n          },\n          end: {\n            line: 31,\n            column: 9\n          }\n        },\n        line: 24\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 31,\n            column: 11\n          },\n          end: {\n            line: 31,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 31,\n            column: 22\n          },\n          end: {\n            line: 37,\n            column: 9\n          }\n        },\n        line: 31\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 39,\n            column: 4\n          },\n          end: {\n            line: 39,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 39,\n            column: 38\n          },\n          end: {\n            line: 42,\n            column: 5\n          }\n        },\n        line: 39\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 40,\n            column: 60\n          },\n          end: {\n            line: 40,\n            column: 61\n          }\n        },\n        loc: {\n          start: {\n            line: 40,\n            column: 66\n          },\n          end: {\n            line: 40,\n            column: 94\n          }\n        },\n        line: 40\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 43,\n            column: 4\n          },\n          end: {\n            line: 43,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 43,\n            column: 23\n          },\n          end: {\n            line: 56,\n            column: 5\n          }\n        },\n        line: 43\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 57,\n            column: 4\n          },\n          end: {\n            line: 57,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 57,\n            column: 29\n          },\n          end: {\n            line: 63,\n            column: 5\n          }\n        },\n        line: 57\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 64,\n            column: 4\n          },\n          end: {\n            line: 64,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 64,\n            column: 25\n          },\n          end: {\n            line: 66,\n            column: 5\n          }\n        },\n        line: 64\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 67,\n            column: 4\n          },\n          end: {\n            line: 67,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 67,\n            column: 38\n          },\n          end: {\n            line: 78,\n            column: 5\n          }\n        },\n        line: 67\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 70,\n            column: 23\n          },\n          end: {\n            line: 70,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 70,\n            column: 38\n          },\n          end: {\n            line: 75,\n            column: 9\n          }\n        },\n        line: 70\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 75,\n            column: 11\n          },\n          end: {\n            line: 75,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 75,\n            column: 22\n          },\n          end: {\n            line: 77,\n            column: 9\n          }\n        },\n        line: 75\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 79,\n            column: 4\n          },\n          end: {\n            line: 79,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 79,\n            column: 32\n          },\n          end: {\n            line: 91,\n            column: 5\n          }\n        },\n        line: 79\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 86,\n            column: 23\n          },\n          end: {\n            line: 86,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 86,\n            column: 35\n          },\n          end: {\n            line: 90,\n            column: 9\n          }\n        },\n        line: 86\n      },\n      \"14\": {\n        name: \"(anonymous_14)\",\n        decl: {\n          start: {\n            line: 90,\n            column: 11\n          },\n          end: {\n            line: 90,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 90,\n            column: 18\n          },\n          end: {\n            line: 90,\n            column: 34\n          }\n        },\n        line: 90\n      },\n      \"15\": {\n        name: \"(anonymous_15)\",\n        decl: {\n          start: {\n            line: 93,\n            column: 33\n          },\n          end: {\n            line: 93,\n            column: 34\n          }\n        },\n        loc: {\n          start: {\n            line: 93,\n            column: 39\n          },\n          end: {\n            line: 96,\n            column: 1\n          }\n        },\n        line: 93\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 58,\n            column: 8\n          },\n          end: {\n            line: 60,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 58,\n            column: 8\n          },\n          end: {\n            line: 60,\n            column: 9\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 58\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0\n    },\n    b: {\n      \"0\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      file: \"training.service.js\",\n      sourceRoot: \"\",\n      sources: [\"C:\\\\Users\\\\Me\\\\Documents\\\\Me\\\\fullstack\\\\frontend-v02\\\\src\\\\app\\\\training\\\\training.service.ts\"],\n      names: [],\n      mappings: \"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\",\n      sourcesContent: [\"import {Subject} from \\\"rxjs\\\";\\r\\nimport {FinishedExercise} from \\\"./finished-exercise.model\\\";\\r\\nimport {HttpClient, HttpHeaders} from \\\"@angular/common/http\\\";\\r\\nimport {Injectable} from \\\"@angular/core\\\";\\r\\nimport {UIService} from \\\"../shared/ui.service\\\";\\r\\n\\r\\n@Injectable()\\r\\nexport class TrainingService {\\r\\n    public exerciseChanged$: Subject<FinishedExercise> =\\r\\n        new Subject<FinishedExercise>();\\r\\n\\r\\n    public exercisesChanged: Subject<FinishedExercise[] | null> =\\r\\n        new Subject<FinishedExercise[] | null>();\\r\\n\\r\\n    /**\\r\\n     * notify if finished exercises changed\\r\\n     * @type {Subject<FinishedExercise[]>}\\r\\n     * @public\\r\\n     */\\r\\n    public finishedExercisesChanged: Subject<FinishedExercise[]> =\\r\\n        new Subject<FinishedExercise[]>();\\r\\n\\r\\n    private availableExercises: FinishedExercise[] = [];\\r\\n\\r\\n    private runningExercise: FinishedExercise | undefined;\\r\\n\\r\\n    constructor(\\r\\n        private http: HttpClient,\\r\\n        private uiService: UIService\\r\\n    ) {\\r\\n    }\\r\\n\\r\\n    public getAvailableExercises() {\\r\\n        console.log(\\\"getAvailableExercises\\\");\\r\\n        return this.http\\r\\n            .get<FinishedExercise[]>(\\r\\n                '/api/exercises/'\\r\\n            )\\r\\n            .subscribe(\\r\\n                (exercises: FinishedExercise[]) => {\\r\\n                    this.uiService.loadingStateNotifier(false);\\r\\n                    this.availableExercises = exercises;\\r\\n                    this.exercisesChanged\\r\\n                        .next(\\r\\n                            [\\r\\n                                ...this.availableExercises\\r\\n                            ]\\r\\n                        )\\r\\n                },\\r\\n                (error) => {\\r\\n                    console.log('error :', error)\\r\\n                    this.uiService.loadingStateNotifier(false);\\r\\n                    this.uiService.showSnackBar(\\r\\n                        \\\"error when getting available exercises, try later.\\\",\\r\\n                        undefined,\\r\\n                        3000\\r\\n                    );\\r\\n                    this.exercisesChanged\\r\\n                        .next(\\r\\n                            null\\r\\n                        )\\r\\n                }\\r\\n            )\\r\\n    }\\r\\n\\r\\n    public startExercise(selectedExerciseId: string) {\\r\\n        this.runningExercise = this.availableExercises.find(\\r\\n            ex => ex.id === selectedExerciseId\\r\\n        )\\r\\n        this.exerciseChanged$.next(\\r\\n            {\\r\\n                calories: 0,\\r\\n                date: undefined,\\r\\n                duration: 0,\\r\\n                id: \\\"\\\",\\r\\n                name: \\\"\\\",\\r\\n                state: undefined,\\r\\n                ...this.runningExercise\\r\\n            }\\r\\n        )\\r\\n    }\\r\\n\\r\\n    public completeExercise() {\\r\\n        // if (this.runningExercise) {\\r\\n        //     this.exercises.push(\\r\\n        //         {\\r\\n        //             ...this.runningExercise,\\r\\n        //             date: new Date(),\\r\\n        //             state: \\\"completed\\\"\\r\\n        //         }\\r\\n        //     );\\r\\n        // }\\r\\n        this.addDataToDatabase(\\r\\n            {\\r\\n                calories: 0,\\r\\n                duration: 0,\\r\\n                id: \\\"\\\",\\r\\n                name: \\\"\\\",\\r\\n                ...this.runningExercise,\\r\\n                state: \\\"completed\\\"\\r\\n            }\\r\\n        );\\r\\n        this.runningExercise = undefined;\\r\\n        this.exerciseChanged$.next(undefined)\\r\\n    }\\r\\n\\r\\n    public cancelExercise(progress: number) {\\r\\n        if (this.runningExercise) {\\r\\n            this.addDataToDatabase(\\r\\n                {\\r\\n                    ...this.runningExercise,\\r\\n                    calories: Math.round((\\r\\n                        this.runningExercise.duration * progress\\r\\n                    ) / 100),\\r\\n                    duration: Math.round((\\r\\n                        this.runningExercise.calories * progress\\r\\n                    ) / 100),\\r\\n                    date: new Date(),\\r\\n                    state: \\\"cancelled\\\"\\r\\n                }\\r\\n            );\\r\\n        }\\r\\n        this.runningExercise = undefined;\\r\\n        this.exerciseChanged$.next(undefined)\\r\\n    }\\r\\n\\r\\n    public getRunningExercise() {\\r\\n        return {...this.runningExercise};\\r\\n    }\\r\\n\\r\\n    public getCompletedOrCanceledExercises() {\\r\\n        return this.http\\r\\n            .get<FinishedExercise[]>(\\r\\n                '/api/fexercises/'\\r\\n            )\\r\\n            .subscribe(\\r\\n                (exercises: FinishedExercise[]) => {\\r\\n                    this.finishedExercisesChanged\\r\\n                        .next([\\r\\n                            ...exercises\\r\\n                        ])\\r\\n                },\\r\\n                (error) => {\\r\\n                    console.log('error :', error)\\r\\n                }\\r\\n            )\\r\\n    }\\r\\n\\r\\n    private addDataToDatabase(exercise: FinishedExercise) {\\r\\n        // let id = exercise.id;\\r\\n        let {id, date, ...payload} = exercise;\\r\\n\\r\\n        console.log(\\\"payload: \\\");\\r\\n        console.log(payload);\\r\\n        this.http\\r\\n            .post('/api/fexercises/'+exercise.id+'/', payload)\\r\\n            .subscribe(\\r\\n                response => {\\r\\n                    console.log(response)\\r\\n                    // this.getAvailableExercises();\\r\\n                    this.getCompletedOrCanceledExercises()\\r\\n                },\\r\\n                err => console.log(err)\\r\\n            );\\r\\n    }\\r\\n\\r\\n}\\r\\n\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"f9eb3a3f88c7edf1a7108e91acbe5f97f576008c\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_t2dfwj2sg = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\n\ncov_t2dfwj2sg();\nimport { __decorate, __rest } from \"tslib\";\nimport { Subject } from \"rxjs\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { UIService } from \"../shared/ui.service\";\ncov_t2dfwj2sg().s[0]++;\nlet TrainingService = class TrainingService {\n  constructor(http, uiService) {\n    cov_t2dfwj2sg().f[0]++;\n    cov_t2dfwj2sg().s[1]++;\n    this.http = http;\n    cov_t2dfwj2sg().s[2]++;\n    this.uiService = uiService;\n    cov_t2dfwj2sg().s[3]++;\n    this.exerciseChanged$ = new Subject();\n    cov_t2dfwj2sg().s[4]++;\n    this.exercisesChanged = new Subject();\n    /**\r\n     * notify if finished exercises changed\r\n     * @type {Subject<FinishedExercise[]>}\r\n     * @public\r\n     */\n\n    cov_t2dfwj2sg().s[5]++;\n    this.finishedExercisesChanged = new Subject();\n    cov_t2dfwj2sg().s[6]++;\n    this.availableExercises = [];\n  }\n\n  getAvailableExercises() {\n    cov_t2dfwj2sg().f[1]++;\n    cov_t2dfwj2sg().s[7]++;\n    console.log(\"getAvailableExercises\");\n    cov_t2dfwj2sg().s[8]++;\n    return this.http.get('/api/exercises/').subscribe(exercises => {\n      cov_t2dfwj2sg().f[2]++;\n      cov_t2dfwj2sg().s[9]++;\n      this.uiService.loadingStateNotifier(false);\n      cov_t2dfwj2sg().s[10]++;\n      this.availableExercises = exercises;\n      cov_t2dfwj2sg().s[11]++;\n      this.exercisesChanged.next([...this.availableExercises]);\n    }, error => {\n      cov_t2dfwj2sg().f[3]++;\n      cov_t2dfwj2sg().s[12]++;\n      console.log('error :', error);\n      cov_t2dfwj2sg().s[13]++;\n      this.uiService.loadingStateNotifier(false);\n      cov_t2dfwj2sg().s[14]++;\n      this.uiService.showSnackBar(\"error when getting available exercises, try later.\", undefined, 3000);\n      cov_t2dfwj2sg().s[15]++;\n      this.exercisesChanged.next(null);\n    });\n  }\n\n  startExercise(selectedExerciseId) {\n    cov_t2dfwj2sg().f[4]++;\n    cov_t2dfwj2sg().s[16]++;\n    this.runningExercise = this.availableExercises.find(ex => {\n      cov_t2dfwj2sg().f[5]++;\n      cov_t2dfwj2sg().s[17]++;\n      return ex.id === selectedExerciseId;\n    });\n    cov_t2dfwj2sg().s[18]++;\n    this.exerciseChanged$.next(Object.assign({\n      calories: 0,\n      date: undefined,\n      duration: 0,\n      id: \"\",\n      name: \"\",\n      state: undefined\n    }, this.runningExercise));\n  }\n\n  completeExercise() {\n    cov_t2dfwj2sg().f[6]++;\n    cov_t2dfwj2sg().s[19]++;\n    // if (this.runningExercise) {\n    //     this.exercises.push(\n    //         {\n    //             ...this.runningExercise,\n    //             date: new Date(),\n    //             state: \"completed\"\n    //         }\n    //     );\n    // }\n    this.addDataToDatabase(Object.assign(Object.assign({\n      calories: 0,\n      duration: 0,\n      id: \"\",\n      name: \"\"\n    }, this.runningExercise), {\n      state: \"completed\"\n    }));\n    cov_t2dfwj2sg().s[20]++;\n    this.runningExercise = undefined;\n    cov_t2dfwj2sg().s[21]++;\n    this.exerciseChanged$.next(undefined);\n  }\n\n  cancelExercise(progress) {\n    cov_t2dfwj2sg().f[7]++;\n    cov_t2dfwj2sg().s[22]++;\n\n    if (this.runningExercise) {\n      cov_t2dfwj2sg().b[0][0]++;\n      cov_t2dfwj2sg().s[23]++;\n      this.addDataToDatabase(Object.assign(Object.assign({}, this.runningExercise), {\n        calories: Math.round(this.runningExercise.duration * progress / 100),\n        duration: Math.round(this.runningExercise.calories * progress / 100),\n        date: new Date(),\n        state: \"cancelled\"\n      }));\n    } else {\n      cov_t2dfwj2sg().b[0][1]++;\n    }\n\n    cov_t2dfwj2sg().s[24]++;\n    this.runningExercise = undefined;\n    cov_t2dfwj2sg().s[25]++;\n    this.exerciseChanged$.next(undefined);\n  }\n\n  getRunningExercise() {\n    cov_t2dfwj2sg().f[8]++;\n    cov_t2dfwj2sg().s[26]++;\n    return Object.assign({}, this.runningExercise);\n  }\n\n  getCompletedOrCanceledExercises() {\n    cov_t2dfwj2sg().f[9]++;\n    cov_t2dfwj2sg().s[27]++;\n    return this.http.get('/api/fexercises/').subscribe(exercises => {\n      cov_t2dfwj2sg().f[10]++;\n      cov_t2dfwj2sg().s[28]++;\n      this.finishedExercisesChanged.next([...exercises]);\n    }, error => {\n      cov_t2dfwj2sg().f[11]++;\n      cov_t2dfwj2sg().s[29]++;\n      console.log('error :', error);\n    });\n  }\n\n  addDataToDatabase(exercise) {\n    cov_t2dfwj2sg().f[12]++;\n    // let id = exercise.id;\n    let {\n      id,\n      date\n    } = (cov_t2dfwj2sg().s[30]++, exercise),\n        payload = (cov_t2dfwj2sg().s[31]++, __rest(exercise, [\"id\", \"date\"]));\n    cov_t2dfwj2sg().s[32]++;\n    console.log(\"payload: \");\n    cov_t2dfwj2sg().s[33]++;\n    console.log(payload);\n    cov_t2dfwj2sg().s[34]++;\n    this.http.post('/api/fexercises/' + exercise.id + '/', payload).subscribe(response => {\n      cov_t2dfwj2sg().f[13]++;\n      cov_t2dfwj2sg().s[35]++;\n      console.log(response); // this.getAvailableExercises();\n\n      cov_t2dfwj2sg().s[36]++;\n      this.getCompletedOrCanceledExercises();\n    }, err => {\n      cov_t2dfwj2sg().f[14]++;\n      cov_t2dfwj2sg().s[37]++;\n      return console.log(err);\n    });\n  }\n\n};\ncov_t2dfwj2sg().s[38]++;\n\nTrainingService.ctorParameters = () => {\n  cov_t2dfwj2sg().f[15]++;\n  cov_t2dfwj2sg().s[39]++;\n  return [{\n    type: HttpClient\n  }, {\n    type: UIService\n  }];\n};\n\ncov_t2dfwj2sg().s[40]++;\nTrainingService = __decorate([Injectable()], TrainingService);\nexport { TrainingService };","map":{"version":3,"sources":["C:/Users/Me/Documents/Me/fullstack/frontend-v02/src/app/training/training.service.ts"],"names":["__decorate","__rest","Subject","HttpClient","Injectable","UIService","TrainingService","constructor","http","uiService","exerciseChanged$","exercisesChanged","finishedExercisesChanged","availableExercises","getAvailableExercises","console","log","get","subscribe","exercises","loadingStateNotifier","next","error","showSnackBar","undefined","startExercise","selectedExerciseId","runningExercise","find","ex","id","Object","assign","calories","date","duration","name","state","completeExercise","addDataToDatabase","cancelExercise","progress","Math","round","Date","getRunningExercise","getCompletedOrCanceledExercises","exercise","payload","post","response","err","ctorParameters","type"],"mappings":"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","sourcesContent":["import { __decorate, __rest } from \"tslib\";\r\nimport { Subject } from \"rxjs\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { UIService } from \"../shared/ui.service\";\r\nlet TrainingService = class TrainingService {\r\n    constructor(http, uiService) {\r\n        this.http = http;\r\n        this.uiService = uiService;\r\n        this.exerciseChanged$ = new Subject();\r\n        this.exercisesChanged = new Subject();\r\n        /**\r\n         * notify if finished exercises changed\r\n         * @type {Subject<FinishedExercise[]>}\r\n         * @public\r\n         */\r\n        this.finishedExercisesChanged = new Subject();\r\n        this.availableExercises = [];\r\n    }\r\n    getAvailableExercises() {\r\n        console.log(\"getAvailableExercises\");\r\n        return this.http\r\n            .get('/api/exercises/')\r\n            .subscribe((exercises) => {\r\n            this.uiService.loadingStateNotifier(false);\r\n            this.availableExercises = exercises;\r\n            this.exercisesChanged\r\n                .next([\r\n                ...this.availableExercises\r\n            ]);\r\n        }, (error) => {\r\n            console.log('error :', error);\r\n            this.uiService.loadingStateNotifier(false);\r\n            this.uiService.showSnackBar(\"error when getting available exercises, try later.\", undefined, 3000);\r\n            this.exercisesChanged\r\n                .next(null);\r\n        });\r\n    }\r\n    startExercise(selectedExerciseId) {\r\n        this.runningExercise = this.availableExercises.find(ex => ex.id === selectedExerciseId);\r\n        this.exerciseChanged$.next(Object.assign({ calories: 0, date: undefined, duration: 0, id: \"\", name: \"\", state: undefined }, this.runningExercise));\r\n    }\r\n    completeExercise() {\r\n        // if (this.runningExercise) {\r\n        //     this.exercises.push(\r\n        //         {\r\n        //             ...this.runningExercise,\r\n        //             date: new Date(),\r\n        //             state: \"completed\"\r\n        //         }\r\n        //     );\r\n        // }\r\n        this.addDataToDatabase(Object.assign(Object.assign({ calories: 0, duration: 0, id: \"\", name: \"\" }, this.runningExercise), { state: \"completed\" }));\r\n        this.runningExercise = undefined;\r\n        this.exerciseChanged$.next(undefined);\r\n    }\r\n    cancelExercise(progress) {\r\n        if (this.runningExercise) {\r\n            this.addDataToDatabase(Object.assign(Object.assign({}, this.runningExercise), { calories: Math.round((this.runningExercise.duration * progress) / 100), duration: Math.round((this.runningExercise.calories * progress) / 100), date: new Date(), state: \"cancelled\" }));\r\n        }\r\n        this.runningExercise = undefined;\r\n        this.exerciseChanged$.next(undefined);\r\n    }\r\n    getRunningExercise() {\r\n        return Object.assign({}, this.runningExercise);\r\n    }\r\n    getCompletedOrCanceledExercises() {\r\n        return this.http\r\n            .get('/api/fexercises/')\r\n            .subscribe((exercises) => {\r\n            this.finishedExercisesChanged\r\n                .next([\r\n                ...exercises\r\n            ]);\r\n        }, (error) => {\r\n            console.log('error :', error);\r\n        });\r\n    }\r\n    addDataToDatabase(exercise) {\r\n        // let id = exercise.id;\r\n        let { id, date } = exercise, payload = __rest(exercise, [\"id\", \"date\"]);\r\n        console.log(\"payload: \");\r\n        console.log(payload);\r\n        this.http\r\n            .post('/api/fexercises/' + exercise.id + '/', payload)\r\n            .subscribe(response => {\r\n            console.log(response);\r\n            // this.getAvailableExercises();\r\n            this.getCompletedOrCanceledExercises();\r\n        }, err => console.log(err));\r\n    }\r\n};\r\nTrainingService.ctorParameters = () => [\r\n    { type: HttpClient },\r\n    { type: UIService }\r\n];\r\nTrainingService = __decorate([\r\n    Injectable()\r\n], TrainingService);\r\nexport { TrainingService };\r\n"]},"metadata":{},"sourceType":"module"}