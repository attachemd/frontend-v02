{"ast":null,"code":"function cov_hcyfmgj8a() {\n  var path = \"C:\\\\Users\\\\Me\\\\Documents\\\\Me\\\\fullstack\\\\frontend-v02\\\\src\\\\app\\\\training\\\\current-training\\\\current-training.component.ts\";\n  var hash = \"343891f9a6d32ce77f58d639af810ed29f9ff92e\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"C:\\\\Users\\\\Me\\\\Documents\\\\Me\\\\fullstack\\\\frontend-v02\\\\src\\\\app\\\\training\\\\current-training\\\\current-training.component.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 8,\n          column: 31\n        },\n        end: {\n          line: 55,\n          column: 1\n        }\n      },\n      \"1\": {\n        start: {\n          line: 10,\n          column: 8\n        },\n        end: {\n          line: 10,\n          column: 29\n        }\n      },\n      \"2\": {\n        start: {\n          line: 11,\n          column: 8\n        },\n        end: {\n          line: 11,\n          column: 47\n        }\n      },\n      \"3\": {\n        start: {\n          line: 12,\n          column: 8\n        },\n        end: {\n          line: 12,\n          column: 26\n        }\n      },\n      \"4\": {\n        start: {\n          line: 14,\n          column: 8\n        },\n        end: {\n          line: 14,\n          column: 23\n        }\n      },\n      \"5\": {\n        start: {\n          line: 17,\n          column: 8\n        },\n        end: {\n          line: 17,\n          column: 29\n        }\n      },\n      \"6\": {\n        start: {\n          line: 20,\n          column: 23\n        },\n        end: {\n          line: 22,\n          column: 21\n        }\n      },\n      \"7\": {\n        start: {\n          line: 23,\n          column: 21\n        },\n        end: {\n          line: 23,\n          column: 59\n        }\n      },\n      \"8\": {\n        start: {\n          line: 25,\n          column: 8\n        },\n        end: {\n          line: 34,\n          column: 17\n        }\n      },\n      \"9\": {\n        start: {\n          line: 26,\n          column: 12\n        },\n        end: {\n          line: 26,\n          column: 39\n        }\n      },\n      \"10\": {\n        start: {\n          line: 27,\n          column: 12\n        },\n        end: {\n          line: 33,\n          column: 13\n        }\n      },\n      \"11\": {\n        start: {\n          line: 28,\n          column: 16\n        },\n        end: {\n          line: 28,\n          column: 42\n        }\n      },\n      \"12\": {\n        start: {\n          line: 29,\n          column: 16\n        },\n        end: {\n          line: 29,\n          column: 56\n        }\n      },\n      \"13\": {\n        start: {\n          line: 32,\n          column: 16\n        },\n        end: {\n          line: 32,\n          column: 35\n        }\n      },\n      \"14\": {\n        start: {\n          line: 37,\n          column: 8\n        },\n        end: {\n          line: 37,\n          column: 34\n        }\n      },\n      \"15\": {\n        start: {\n          line: 38,\n          column: 23\n        },\n        end: {\n          line: 42,\n          column: 10\n        }\n      },\n      \"16\": {\n        start: {\n          line: 43,\n          column: 8\n        },\n        end: {\n          line: 53,\n          column: 11\n        }\n      },\n      \"17\": {\n        start: {\n          line: 44,\n          column: 12\n        },\n        end: {\n          line: 50,\n          column: 13\n        }\n      },\n      \"18\": {\n        start: {\n          line: 46,\n          column: 16\n        },\n        end: {\n          line: 46,\n          column: 67\n        }\n      },\n      \"19\": {\n        start: {\n          line: 49,\n          column: 16\n        },\n        end: {\n          line: 49,\n          column: 37\n        }\n      },\n      \"20\": {\n        start: {\n          line: 52,\n          column: 12\n        },\n        end: {\n          line: 52,\n          column: 42\n        }\n      },\n      \"21\": {\n        start: {\n          line: 56,\n          column: 0\n        },\n        end: {\n          line: 59,\n          column: 2\n        }\n      },\n      \"22\": {\n        start: {\n          line: 56,\n          column: 48\n        },\n        end: {\n          line: 59,\n          column: 1\n        }\n      },\n      \"23\": {\n        start: {\n          line: 60,\n          column: 0\n        },\n        end: {\n          line: 66,\n          column: 29\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 9,\n            column: 4\n          },\n          end: {\n            line: 9,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 9,\n            column: 41\n          },\n          end: {\n            line: 15,\n            column: 5\n          }\n        },\n        line: 9\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 16,\n            column: 4\n          },\n          end: {\n            line: 16,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 16,\n            column: 15\n          },\n          end: {\n            line: 18,\n            column: 5\n          }\n        },\n        line: 16\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 19,\n            column: 4\n          },\n          end: {\n            line: 19,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 19,\n            column: 20\n          },\n          end: {\n            line: 35,\n            column: 5\n          }\n        },\n        line: 19\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 25,\n            column: 40\n          },\n          end: {\n            line: 25,\n            column: 41\n          }\n        },\n        loc: {\n          start: {\n            line: 25,\n            column: 46\n          },\n          end: {\n            line: 34,\n            column: 9\n          }\n        },\n        line: 25\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 36,\n            column: 4\n          },\n          end: {\n            line: 36,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 36,\n            column: 13\n          },\n          end: {\n            line: 54,\n            column: 5\n          }\n        },\n        line: 36\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 43,\n            column: 39\n          },\n          end: {\n            line: 43,\n            column: 40\n          }\n        },\n        loc: {\n          start: {\n            line: 43,\n            column: 49\n          },\n          end: {\n            line: 51,\n            column: 9\n          }\n        },\n        line: 43\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 51,\n            column: 11\n          },\n          end: {\n            line: 51,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 51,\n            column: 22\n          },\n          end: {\n            line: 53,\n            column: 9\n          }\n        },\n        line: 51\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 56,\n            column: 42\n          },\n          end: {\n            line: 56,\n            column: 43\n          }\n        },\n        loc: {\n          start: {\n            line: 56,\n            column: 48\n          },\n          end: {\n            line: 59,\n            column: 1\n          }\n        },\n        line: 56\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 23,\n            column: 21\n          },\n          end: {\n            line: 23,\n            column: 59\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 23,\n            column: 33\n          },\n          end: {\n            line: 23,\n            column: 54\n          }\n        }, {\n          start: {\n            line: 23,\n            column: 58\n          },\n          end: {\n            line: 23,\n            column: 59\n          }\n        }],\n        line: 23\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 27,\n            column: 12\n          },\n          end: {\n            line: 33,\n            column: 13\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 27,\n            column: 12\n          },\n          end: {\n            line: 33,\n            column: 13\n          }\n        }, {\n          start: {\n            line: 31,\n            column: 17\n          },\n          end: {\n            line: 33,\n            column: 13\n          }\n        }],\n        line: 27\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 44,\n            column: 12\n          },\n          end: {\n            line: 50,\n            column: 13\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 44,\n            column: 12\n          },\n          end: {\n            line: 50,\n            column: 13\n          }\n        }, {\n          start: {\n            line: 48,\n            column: 17\n          },\n          end: {\n            line: 50,\n            column: 13\n          }\n        }],\n        line: 44\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      file: \"current-training.component.js\",\n      sourceRoot: \"\",\n      sources: [\"C:\\\\Users\\\\Me\\\\Documents\\\\Me\\\\fullstack\\\\frontend-v02\\\\src\\\\app\\\\training\\\\current-training\\\\current-training.component.ts\"],\n      names: [],\n      mappings: \";;;AAAA,OAAO,EAAC,SAAS,EAAS,MAAM,eAAe,CAAC;AAChD,OAAO,EAAC,SAAS,EAAC,MAAM,0BAA0B,CAAC;AACnD,OAAO,EAAC,qBAAqB,EAAC,MAAM,2BAA2B,CAAC;AAChE,OAAO,EAAC,eAAe,EAAC,MAAM,qBAAqB,CAAC;IAOvC,wBAAwB,SAAxB,wBAAwB;IAKjC,YACY,MAAiB,EACjB,eAAgC;QADhC,WAAM,GAAN,MAAM,CAAW;QACjB,oBAAe,GAAf,eAAe,CAAiB;QAN5C,aAAQ,GAAG,CAAC,CAAC;QACb,wCAAwC;QACxC,UAAK,GAAW,CAAC,CAAC;IAMlB,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,aAAa;QACT,IAAI,QAAQ,GAAG,IAAI,CAAC,eAAe;aAC9B,kBAAkB,EAAE;aACpB,QAAQ,CAAC;QACd,MAAM,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,uCAAuC;QACvC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE;YACjC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC3B,IAAI,IAAI,CAAC,QAAQ,IAAI,GAAG,EAAE;gBACtB,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC1B,IAAI,CAAC,eAAe,CAAC,gBAAgB,EAAE,CAAA;aAC1C;iBAAM;gBACH,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;aACtB;QACL,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,MAAM;QACF,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAC3B,qBAAqB,EAAE;YACnB,IAAI,EAAE;gBACF,QAAQ,EAAE,IAAI,CAAC,QAAQ;aAC1B;SACJ,CACJ,CAAC;QACF,MAAM,CAAC,WAAW,EAAE,CAAC,SAAS,CAC1B,MAAM,CAAC,EAAE;YACL,IAAI,MAAM,EAAE;gBACR,4BAA4B;gBAC5B,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;aACrD;iBAAM;gBACH,IAAI,CAAC,aAAa,EAAE,CAAC;aACxB;QACL,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC,CAAA;QACjC,CAAC,CACJ,CAAA;IACL,CAAC;CAEJ,CAAA;;YAjEO,SAAS;YAET,eAAe;;AAOV,wBAAwB;IALpC,SAAS,CAAC;QACP,QAAQ,EAAE,sBAAsB;QAChC,8BAAgD;;KAEnD,CAAC;GACW,wBAAwB,CAwDpC;SAxDY,wBAAwB\",\n      sourcesContent: [\"import {Component, OnInit} from '@angular/core';\\r\\nimport {MatDialog} from \\\"@angular/material/dialog\\\";\\r\\nimport {StopTrainingComponent} from './stop-training.component';\\r\\nimport {TrainingService} from \\\"../training.service\\\";\\r\\n\\r\\n@Component({\\r\\n    selector: 'app-current-training',\\r\\n    templateUrl: './current-training.component.html',\\r\\n    styleUrls: ['./current-training.component.css']\\r\\n})\\r\\nexport class CurrentTrainingComponent implements OnInit {\\r\\n    progress = 0;\\r\\n    // timer: ReturnType<typeof setTimeout>;\\r\\n    timer: number = 0;\\r\\n\\r\\n    constructor(\\r\\n        private dialog: MatDialog,\\r\\n        private trainingService: TrainingService\\r\\n    ) {\\r\\n    }\\r\\n\\r\\n    ngOnInit(): void {\\r\\n        this.startOrResume();\\r\\n    }\\r\\n\\r\\n    startOrResume() {\\r\\n        let duration = this.trainingService\\r\\n            .getRunningExercise()\\r\\n            .duration;\\r\\n        const step = duration ? (duration * 1000 / 100) : 1;\\r\\n        // const step = (duration*1000 / 100) ;\\r\\n        this.timer = window.setInterval(() => {\\r\\n            console.log(\\\"setInterval\\\");\\r\\n            if (this.progress >= 100) {\\r\\n                clearInterval(this.timer);\\r\\n                this.trainingService.completeExercise()\\r\\n            } else {\\r\\n                this.progress += 1;\\r\\n            }\\r\\n        }, step);\\r\\n    }\\r\\n\\r\\n    onStop(): void {\\r\\n        clearInterval(this.timer);\\r\\n        const dialog = this.dialog.open(\\r\\n            StopTrainingComponent, {\\r\\n                data: {\\r\\n                    progress: this.progress\\r\\n                }\\r\\n            }\\r\\n        );\\r\\n        dialog.afterClosed().subscribe(\\r\\n            result => {\\r\\n                if (result) {\\r\\n                    // this.trainingExit.emit();\\r\\n                    this.trainingService.cancelExercise(this.progress)\\r\\n                } else {\\r\\n                    this.startOrResume();\\r\\n                }\\r\\n            },\\r\\n            (error) => {\\r\\n                console.log('error :', error)\\r\\n            }\\r\\n        )\\r\\n    }\\r\\n\\r\\n}\\r\\n\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"343891f9a6d32ce77f58d639af810ed29f9ff92e\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_hcyfmgj8a = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\n\ncov_hcyfmgj8a();\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./current-training.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./current-training.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { StopTrainingComponent } from './stop-training.component';\nimport { TrainingService } from \"../training.service\";\ncov_hcyfmgj8a().s[0]++;\nlet CurrentTrainingComponent = class CurrentTrainingComponent {\n  constructor(dialog, trainingService) {\n    cov_hcyfmgj8a().f[0]++;\n    cov_hcyfmgj8a().s[1]++;\n    this.dialog = dialog;\n    cov_hcyfmgj8a().s[2]++;\n    this.trainingService = trainingService;\n    cov_hcyfmgj8a().s[3]++;\n    this.progress = 0; // timer: ReturnType<typeof setTimeout>;\n\n    cov_hcyfmgj8a().s[4]++;\n    this.timer = 0;\n  }\n\n  ngOnInit() {\n    cov_hcyfmgj8a().f[1]++;\n    cov_hcyfmgj8a().s[5]++;\n    this.startOrResume();\n  }\n\n  startOrResume() {\n    cov_hcyfmgj8a().f[2]++;\n    let duration = (cov_hcyfmgj8a().s[6]++, this.trainingService.getRunningExercise().duration);\n    const step = (cov_hcyfmgj8a().s[7]++, duration ? (cov_hcyfmgj8a().b[0][0]++, duration * 1000 / 100) : (cov_hcyfmgj8a().b[0][1]++, 1)); // const step = (duration*1000 / 100) ;\n\n    cov_hcyfmgj8a().s[8]++;\n    this.timer = window.setInterval(() => {\n      cov_hcyfmgj8a().f[3]++;\n      cov_hcyfmgj8a().s[9]++;\n      console.log(\"setInterval\");\n      cov_hcyfmgj8a().s[10]++;\n\n      if (this.progress >= 100) {\n        cov_hcyfmgj8a().b[1][0]++;\n        cov_hcyfmgj8a().s[11]++;\n        clearInterval(this.timer);\n        cov_hcyfmgj8a().s[12]++;\n        this.trainingService.completeExercise();\n      } else {\n        cov_hcyfmgj8a().b[1][1]++;\n        cov_hcyfmgj8a().s[13]++;\n        this.progress += 1;\n      }\n    }, step);\n  }\n\n  onStop() {\n    cov_hcyfmgj8a().f[4]++;\n    cov_hcyfmgj8a().s[14]++;\n    clearInterval(this.timer);\n    const dialog = (cov_hcyfmgj8a().s[15]++, this.dialog.open(StopTrainingComponent, {\n      data: {\n        progress: this.progress\n      }\n    }));\n    cov_hcyfmgj8a().s[16]++;\n    dialog.afterClosed().subscribe(result => {\n      cov_hcyfmgj8a().f[5]++;\n      cov_hcyfmgj8a().s[17]++;\n\n      if (result) {\n        cov_hcyfmgj8a().b[2][0]++;\n        cov_hcyfmgj8a().s[18]++;\n        // this.trainingExit.emit();\n        this.trainingService.cancelExercise(this.progress);\n      } else {\n        cov_hcyfmgj8a().b[2][1]++;\n        cov_hcyfmgj8a().s[19]++;\n        this.startOrResume();\n      }\n    }, error => {\n      cov_hcyfmgj8a().f[6]++;\n      cov_hcyfmgj8a().s[20]++;\n      console.log('error :', error);\n    });\n  }\n\n};\ncov_hcyfmgj8a().s[21]++;\n\nCurrentTrainingComponent.ctorParameters = () => {\n  cov_hcyfmgj8a().f[7]++;\n  cov_hcyfmgj8a().s[22]++;\n  return [{\n    type: MatDialog\n  }, {\n    type: TrainingService\n  }];\n};\n\ncov_hcyfmgj8a().s[23]++;\nCurrentTrainingComponent = __decorate([Component({\n  selector: 'app-current-training',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], CurrentTrainingComponent);\nexport { CurrentTrainingComponent };","map":{"version":3,"sources":["C:/Users/Me/Documents/Me/fullstack/frontend-v02/src/app/training/current-training/current-training.component.ts"],"names":["__decorate","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","MatDialog","StopTrainingComponent","TrainingService","CurrentTrainingComponent","constructor","dialog","trainingService","progress","timer","ngOnInit","startOrResume","duration","getRunningExercise","step","window","setInterval","console","log","clearInterval","completeExercise","onStop","open","data","afterClosed","subscribe","result","cancelExercise","error","ctorParameters","type","selector","template","styles"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport __NG_CLI_RESOURCE__0 from \"./current-training.component.html?ngResource\";\r\nimport __NG_CLI_RESOURCE__1 from \"./current-training.component.css?ngResource\";\r\nimport { Component } from '@angular/core';\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { StopTrainingComponent } from './stop-training.component';\r\nimport { TrainingService } from \"../training.service\";\r\nlet CurrentTrainingComponent = class CurrentTrainingComponent {\r\n    constructor(dialog, trainingService) {\r\n        this.dialog = dialog;\r\n        this.trainingService = trainingService;\r\n        this.progress = 0;\r\n        // timer: ReturnType<typeof setTimeout>;\r\n        this.timer = 0;\r\n    }\r\n    ngOnInit() {\r\n        this.startOrResume();\r\n    }\r\n    startOrResume() {\r\n        let duration = this.trainingService\r\n            .getRunningExercise()\r\n            .duration;\r\n        const step = duration ? (duration * 1000 / 100) : 1;\r\n        // const step = (duration*1000 / 100) ;\r\n        this.timer = window.setInterval(() => {\r\n            console.log(\"setInterval\");\r\n            if (this.progress >= 100) {\r\n                clearInterval(this.timer);\r\n                this.trainingService.completeExercise();\r\n            }\r\n            else {\r\n                this.progress += 1;\r\n            }\r\n        }, step);\r\n    }\r\n    onStop() {\r\n        clearInterval(this.timer);\r\n        const dialog = this.dialog.open(StopTrainingComponent, {\r\n            data: {\r\n                progress: this.progress\r\n            }\r\n        });\r\n        dialog.afterClosed().subscribe(result => {\r\n            if (result) {\r\n                // this.trainingExit.emit();\r\n                this.trainingService.cancelExercise(this.progress);\r\n            }\r\n            else {\r\n                this.startOrResume();\r\n            }\r\n        }, (error) => {\r\n            console.log('error :', error);\r\n        });\r\n    }\r\n};\r\nCurrentTrainingComponent.ctorParameters = () => [\r\n    { type: MatDialog },\r\n    { type: TrainingService }\r\n];\r\nCurrentTrainingComponent = __decorate([\r\n    Component({\r\n        selector: 'app-current-training',\r\n        template: __NG_CLI_RESOURCE__0,\r\n        styles: [__NG_CLI_RESOURCE__1]\r\n    })\r\n], CurrentTrainingComponent);\r\nexport { CurrentTrainingComponent };\r\n"]},"metadata":{},"sourceType":"module"}